% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mixMN_from_wadj.R
\name{mixMN_from_wadj}
\alias{mixMN_from_wadj}
\title{Build MixMashNet metrics from a signed weighted adjacency matrix}
\usage{
mixMN_from_wadj(
  wadj_signed,
  nodes,
  conf_level = 0.95,
  exclude_from_graph = NULL,
  exclude_from_cluster = NULL,
  cluster_method = c("louvain", "fast_greedy", "infomap", "walktrap", "edge_betweenness"),
  reps = 0,
  seed_boot = NULL,
  treat_singletons_as_excluded = FALSE,
  boot_what = c("general_index", "interlayer_index", "bridge_index", "excluded_index",
    "community", "loadings", "none")
)
}
\arguments{
\item{wadj_signed}{Square numeric matrix (\eqn{p \times p}) with signed edge
weights (rows/columns = nodes). Typically \code{wadj * signs} from \pkg{mgm}.
Row and column names must correspond to \code{nodes}.}

\item{nodes}{Character vector of node names (must match
\code{rownames(wadj_signed)} and \code{colnames(wadj_signed)}).}

\item{conf_level}{Confidence level for percentile bootstrap CIs (default 0.95).
Stored in \code{$settings} for consistency with \code{mixMN()}, but no CIs
are computed here because no bootstrap is performed.}

\item{exclude_from_graph}{Character vector. Nodes excluded entirely from the
graph (removed from adjacency matrix, edges and node-level metrics).}

\item{exclude_from_cluster}{Character vector. Nodes excluded from community
detection (in addition to \code{exclude_from_graph}). These nodes remain in
the graph and in node-level metrics, but receive \code{NA} community labels.}

\item{cluster_method}{Community detection algorithm, one of
\code{c("louvain","fast_greedy","infomap","walktrap","edge_betweenness")}.
Community detection is performed on the absolute-weight graph induced by
\code{keep_nodes_cluster}.}

\item{reps}{Integer (>= 0). Number of bootstrap replications. Not used inside
this function; stored in \code{$settings$reps} for downstream bootstrap
utilities.}

\item{seed_boot}{Optional integer. Stored in \code{$settings} for consistency
with bootstrap utilities; not used here.}

\item{treat_singletons_as_excluded}{Logical; if \code{TRUE}, singleton
communities (size 1) are treated as excluded: their membership is set to
\code{NA} in \code{$communities$groups} (used for bridge metrics).}

\item{boot_what}{Character vector specifying which quantities are intended to
be bootstrapped in higher-level functions. The value is stored in
\code{$settings$boot_what} but no bootstrap is computed here. Can include
\code{"general_index"}, \code{"interlayer_index"}, \code{"bridge_index"},
\code{"excluded_index"}, \code{"community"}, \code{"loadings"}, or
\code{"none"}.}
}
\value{
An object of class \code{c("mixmashnet","mixMN_fit")} with the following
components:
\describe{
\item{\code{call}}{The matched function call.}
\item{\code{settings}}{
List echoing the main arguments, including \code{reps},
\code{cluster_method}, \code{exclude_from_graph},
\code{exclude_from_cluster}, \code{treat_singletons_as_excluded},
\code{boot_what}, and \code{conf_level}.
}
\item{\code{model}}{
List with \code{mgm = NULL} and \code{nodes} (character vector of all node
names). This mirrors \code{mixMN()}, but no MGM is fitted here.
}
\item{\code{graph}}{
List describing the graph:
\code{igraph} (signed \pkg{igraph} object built on \code{keep_nodes_graph},
with edge attributes \code{weight}, \code{abs_weight}, \code{sign} and
vertex attribute \code{membership}),
\code{keep_nodes_graph} (nodes retained in the graph and all node-level
metrics), and \code{keep_nodes_cluster} (nodes used for community
detection).
}
\item{\code{communities}}{
List describing community structure with:
\code{original_membership} (integer vector of community labels on
\code{keep_nodes_cluster}),
\code{groups} (factor membership used for bridge metrics; may contain
\code{NA} for excluded/singleton nodes),
\code{palette} (named vector of colors per community), and
\code{boot_memberships} (empty list).
}
\item{\code{statistics}}{
List with node- and edge-level summaries:
\code{node$true} is a data frame with one row per node in
\code{keep_nodes_graph}, containing \code{strength}, \code{ei1},
\code{closeness}, \code{betweenness}, and bridge metrics
(\code{bridge_strength}, \code{bridge_betweenness}, \code{bridge_closeness},
\code{bridge_ei1}, \code{bridge_ei2}, plus \code{*_excluded} versions).
Bootstrap slots \code{node$boot}, \code{node$ci}, \code{edge$boot},
\code{edge$ci} are set to \code{NULL}.
}
\item{\code{community_loadings}}{
List container for community loadings (aligned to \code{mixMN()}):
\code{nodes} (nodes used for loadings), \code{wc} (integer community labels
aligned with \code{nodes}), \code{true} (loadings matrix), and \code{boot}
(set to \code{NULL} here).
}
}
}
\description{
Low-level constructor that builds a \code{mixMN_fit} object starting from a
signed weighted adjacency matrix (\code{wadj_signed}), instead of estimating
the network via \code{mgm::mgm}. The function computes community detection,
node-level centrality indices, and bridge metrics (including "excluded"
versions), and returns an object compatible with MixMashNet downstream
utilities.

No bootstrap is performed inside this function. The arguments \code{reps},
\code{seed_boot}, \code{conf_level}, and \code{boot_what} are stored in
\code{$settings} for interface compatibility with \code{mixMN()} and other
bootstrap-based functions, but the corresponding bootstrap slots in the output
are set to \code{NULL}.
}
\details{
Centrality indices are computed on the signed matrix \code{wadj_signed} via
\code{qgraph::centrality}. Harmonic closeness and betweenness are computed on
an absolute-weight distance graph with edge length \eqn{1/|w|}. Bridge metrics
are computed separately on the absolute and signed graphs using
\code{bridge_metrics()} and \code{bridge_metrics_excluded()}.
}
