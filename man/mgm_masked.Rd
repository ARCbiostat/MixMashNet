% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mgm_masked.R
\name{mgm_masked}
\alias{mgm_masked}
\title{Masked MGM (modified from \pkg{mgm})}
\usage{
mgm_masked(
  data,
  type,
  level,
  regularize,
  lambdaSeq,
  lambdaSel,
  lambdaFolds,
  lambdaGam,
  alphaSeq,
  alphaSel,
  alphaFolds,
  alphaGam,
  k,
  moderators,
  ruleReg,
  weights,
  threshold,
  method,
  binarySign,
  scale,
  verbatim,
  pbar,
  warnings,
  saveModels,
  saveData,
  overparameterize,
  thresholdCat,
  signInfo,
  mask_list = NULL,
  ...
)
}
\arguments{
\item{data}{Numeric matrix (n × p). No missing values allowed.}

\item{type}{Character vector of length \code{p} with variable types as in \pkg{mgm}
(e.g., \code{"g"} for Gaussian, \code{"c"} for categorical, \code{"p"} for Poisson).}

\item{level}{Integer vector of length \code{p} with variable levels as in \pkg{mgm}.}

\item{regularize}{Logical; if \code{FALSE}, equivalent to no regularization
(\code{lambdaSel = "EBIC"}, \code{lambdaSeq = 0}, \code{threshold = "none"}).}

\item{lambdaSeq, lambdaSel, lambdaFolds, lambdaGam}{Lambda grid/selection settings (see \pkg{mgm}).}

\item{alphaSeq, alphaSel, alphaFolds, alphaGam}{Mixing parameter grid/selection (see \pkg{mgm}).}

\item{k}{Interaction order (default \code{2}); same meaning as in \pkg{mgm}.}

\item{moderators}{Optional moderators specification (as in \pkg{mgm}).}

\item{ruleReg}{Regularization rule, default \code{"AND"} (as in \pkg{mgm}).}

\item{weights}{Observation weights (length \code{n}); internally normalized.}

\item{threshold}{Thresholding rule (default \code{"LW"}) as in \pkg{mgm}.}

\item{method}{Fitting backend (default \code{"glm"}) as in \pkg{mgm}.}

\item{binarySign}{Logical; if \code{TRUE}, store sign information.}

\item{scale}{Logical; if \code{TRUE}, standardize Gaussian variables.}

\item{verbatim, pbar, warnings, saveModels, saveData}{Overhead/UX flags as in \pkg{mgm}.}

\item{overparameterize}{Logical; use overparameterized design matrix (as in \pkg{mgm}).}

\item{thresholdCat}{Logical; categorical thresholding (as in \pkg{mgm}).}

\item{signInfo}{Logical; store sign information (as in \pkg{mgm}).}

\item{mask_list}{Optional list of length \code{p}; each element is an integer vector
of column indices (1..p) indicating which predictors are allowed for the nodewise
regression of the corresponding target node. If \code{NULL}, no masking is applied.}

\item{...}{Further arguments forwarded consistently with \pkg{mgm}.}
}
\value{
An object of class \code{c("mgm","core")} with fields analogous to \pkg{mgm}:
\itemize{
\item \code{$pairwise$}: \code{wadj}, \code{signs}, and nodewise variants.
\item \code{$interactions$}, \code{$intercepts$}, \code{$nodemodels$}: as in \pkg{mgm}.
\item \code{$call$}: input metadata (types, levels, thresholds, etc.).
}
}
\description{
A modified version of the model-fitting routine from \pkg{mgm} that adds support
for a per-node predictor mask via \code{mask_list}. When provided, each node is
estimated using only the allowed predictors specified for that node. All other
functionality mirrors the original \pkg{mgm} nodewise estimation and graph
assembly.
}
\details{
This function is adapted from the \pkg{mgm} workflow and preserves its nodewise
estimation, cross-validation / EBIC selection, thresholding, and graph assembly.
The only substantive extension is \code{mask_list}, which filters each node's design
matrix to the allowed predictors before fitting. This enables constrained structures
(e.g., multilayer masks) while keeping \pkg{mgm}’s estimation logic intact.
}
\seealso{
\code{\link[mgm]{mgm}} for the original implementation and argument semantics.
}
